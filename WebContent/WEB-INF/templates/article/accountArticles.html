<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/MaterializeLayout}">
<head>
<title th:text="#{menu.my.articles}"></title>
</head>
<body>
	<section layout:fragment="body">
		<div class="center">
			<div class="container">

				<table class="striped highlight centered responsive-table">
					<thead>
						<tr>
							<th th:text="#{number}"></th>
							<th th:text="#{article.title}"></th>
							<th th:text="#{article.abstract}"></th>
							<th th:text="#{article.category}"></th>
							<th th:text="#{article.keywords}"></th>
							<th th:text="#{article.authors}"></th>
							<th th:text="#{article.reviewers}"></th>
							<th th:text="#{article.statuses}"></th>
							<th th:text="#{article.file}"></th>
						</tr>
					</thead>
					<tbody>
						<th:block th:each="article, iteration : ${articles}">
							<tr>
								<td th:text="${iteration.index + 1}"></td>
								<td th:text="${article.title}"></td>
								<td th:text="${article.abstractColumn}"></td>
								<td th:text="${article.articleCategory.name}"></td>
								<td th:each="keyword, iterator : ${article.keywords}"
									th:text="!${iterator.last} ? ${keyword.name} + ',': ${keyword.name}"></td>
								<td><select class="materialSelect">
										<option th:each="author : ${article.authors}"
											th:text="${author.name}"></option>
								</select></td>
								<th:block th:if="${article.articleReviewers != null}">
									<td><select class="materialSelect">
											<option th:each="reviewer : ${article.articleReviewers}"
												th:text="${reviewer.user.name}"></option>
									</select></td>
								</th:block>
								<th:block th:if="${article.articleReviewers != null}">
									<td><select class="materialSelect">
											<option th:each="reviewer : ${article.articleReviewers}"
												th:text="${reviewer.status.name}"></option>
									</select></td>
								</th:block>
								<td><a class="waves-effect waves-light btn"
									th:href="@{${url} + ${article.articleFile.name}}"
									th:inline="text"><i class="material-icons left">file_download</i>[[#{article.file.download}]]</a></td>
							</tr>
						</th:block>
					</tbody>
				</table>

			</div>
		</div>

		<a th:href="@{/article/add/}"
			class="btn-floating btn-large waves-effect waves-light blue lighten-1"><i
			class="material-icons">add</i></a>

		<script type="text/javascript">
			$(document).ready(function() {
			  $('.materialSelect').formSelect();
			});
		</script>
	</section>
</body>
</html>
